<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.PagerDuty.Integration</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-PagerDuty-Integration.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">pagerduty-0.0.0: Pager Duty API Client</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Network.PagerDuty.Integration</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Sending events</a><ul><li><a href="#g:2">Trigger</a></li><li><a href="#g:3">Acknowledge</a></li><li><a href="#g:4">Resolve</a></li></ul></li><li><a href="#g:5">Event fields</a></li><li><a href="#g:6">Types</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The PagerDuty event integration API is how you would add PagerDuty's
 advanced alerting functionality to any system that can make an HTTP API
 call. You can now add phone, SMS and email alerting to your monitoring
 tools, ticketing systems and custom software.</p><p>The API was designed to allow you to easily integrate a
 monitoring system with a Service in PagerDuty. Monitoring systems
 generally send out events when problems are detected and when these
 problems have been resolved (fixed). Some more advanced systems also
 understand the concept of acknowledgements: problems can be acknowledged
 by an engineer to signal he or she is working on fixing the issue.</p><p>Since monitoring systems emit events, the API is based around accepting
 events. Incoming events (sent via the API) are routed to a PagerDuty
 service and processed. They may result in a new incident being created,
 or an existing incident being acknowledged or resolved.</p><p>The same event-based API can also be used to integrate a PagerDuty
 service with ticketing systems and various other software tools.</p><p><em>See:</em> <a href="http://developer.pagerduty.com/documentation/integration/events">http://developer.pagerduty.com/documentation/integration/events</a></p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:submit">submit</a> :: MonadIO m =&gt; Manager -&gt; <a href="Network-PagerDuty-Integration.html#t:Event">Event</a> -&gt; m (<a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="Control-Monad-Trans-PagerDuty.html#t:Error">Error</a> <a href="Network-PagerDuty-Integration.html#t:Response">Response</a>)</li><li class="src short"><a href="#v:submitWith">submitWith</a> :: MonadIO m =&gt; Manager -&gt; <a href="Control-Monad-Trans-PagerDuty.html#t:Logger">Logger</a> -&gt; <a href="Network-PagerDuty-Integration.html#t:Event">Event</a> -&gt; m (<a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="Control-Monad-Trans-PagerDuty.html#t:Error">Error</a> <a href="Network-PagerDuty-Integration.html#t:Response">Response</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Trigger">Trigger</a></li><li class="src short"><a href="#v:trigger">trigger</a> :: ServiceKey -&gt; IncidentKey -&gt; Text -&gt; <a href="Network-PagerDuty-Integration.html#t:Event">Event</a></li><li class="src short"><a href="#v:client">client</a> :: Lens' <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a> (<a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> Text)</li><li class="src short"><a href="#v:clientUrl">clientUrl</a> :: Lens' <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a> (<a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> Text)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Acknowledge">Acknowledge</a> = Generic</li><li class="src short"><a href="#v:acknowledge">acknowledge</a> :: ServiceKey -&gt; IncidentKey -&gt; <a href="Network-PagerDuty-Integration.html#t:Event">Event</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Resolve">Resolve</a> = Generic</li><li class="src short"><a href="#v:resolve">resolve</a> :: ServiceKey -&gt; IncidentKey -&gt; <a href="Network-PagerDuty-Integration.html#t:Event">Event</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:HasServiceKey">HasServiceKey</a> s a | s -&gt; a <span class="keyword">where</span><ul class="subs"><li><a href="#v:serviceKey">serviceKey</a> :: Lens' s a</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:HasIncidentKey">HasIncidentKey</a> s a | s -&gt; a <span class="keyword">where</span><ul class="subs"><li><a href="#v:incidentKey">incidentKey</a> :: Lens' s a</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:HasDescription">HasDescription</a> s a | s -&gt; a <span class="keyword">where</span><ul class="subs"><li><a href="#v:description">description</a> :: Lens' s a</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:HasDetails">HasDetails</a> s a | s -&gt; a <span class="keyword">where</span><ul class="subs"><li><a href="#v:details">details</a> :: Lens' s a</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Event">Event</a><ul class="subs"><li>= <a href="#v:Trigger">Trigger</a> <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a></li><li>| <a href="#v:Acknowledge">Acknowledge</a> Generic</li><li>| <a href="#v:Resolve">Resolve</a> Generic</li></ul></li><li class="src short"><a href="#v:_Trigger">_Trigger</a> :: Prism' <a href="Network-PagerDuty-Integration.html#t:Event">Event</a> <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a></li><li class="src short"><a href="#v:_Acknowledge">_Acknowledge</a> :: Prism' <a href="Network-PagerDuty-Integration.html#t:Event">Event</a> Generic</li><li class="src short"><a href="#v:_Resolve">_Resolve</a> :: Prism' <a href="Network-PagerDuty-Integration.html#t:Event">Event</a> Generic</li><li class="src short"><span class="keyword">data</span> <a href="#t:Response">Response</a></li><li class="src short"><a href="#v:rsStatus">rsStatus</a> :: Lens' <a href="Network-PagerDuty-Integration.html#t:Response">Response</a> Text</li><li class="src short"><a href="#v:rsMessage">rsMessage</a> :: Lens' <a href="Network-PagerDuty-Integration.html#t:Response">Response</a> Text</li><li class="src short"><a href="#v:rsIncidentKey">rsIncidentKey</a> :: Lens' <a href="Network-PagerDuty-Integration.html#t:Response">Response</a> IncidentKey</li></ul></div><div id="interface"><h1 id="g:1">Sending events</h1><div class="top"><p class="src"><a name="v:submit" class="def">submit</a> :: MonadIO m =&gt; Manager -&gt; <a href="Network-PagerDuty-Integration.html#t:Event">Event</a> -&gt; m (<a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="Control-Monad-Trans-PagerDuty.html#t:Error">Error</a> <a href="Network-PagerDuty-Integration.html#t:Response">Response</a>)</p><div class="doc"><p>Send an event to the integration API.</p></div></div><div class="top"><p class="src"><a name="v:submitWith" class="def">submitWith</a> :: MonadIO m =&gt; Manager -&gt; <a href="Control-Monad-Trans-PagerDuty.html#t:Logger">Logger</a> -&gt; <a href="Network-PagerDuty-Integration.html#t:Event">Event</a> -&gt; m (<a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="Control-Monad-Trans-PagerDuty.html#t:Error">Error</a> <a href="Network-PagerDuty-Integration.html#t:Response">Response</a>)</p><div class="doc"><p><em>See:</em> <code><a href="Network-PagerDuty-Integration.html#v:submit">submit</a></code></p></div></div><h2 id="g:2">Trigger</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Trigger" class="def">Trigger</a></p><div class="subs instances"><p id="control.i:Trigger" class="caption collapser" onclick="toggleSection('i:Trigger')">Instances</p><div id="section.i:Trigger" class="show"><table><tr><td class="src"><a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FromJSON <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Network-PagerDuty-Integration.html#t:HasDescription">HasDescription</a> <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a> Text</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Network-PagerDuty-Integration.html#t:HasDetails">HasDetails</a> <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a> (<a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> Object)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:trigger" class="def">trigger</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: ServiceKey</td><td class="doc"><p><code><a href="Network-PagerDuty-Integration.html#v:serviceKey">serviceKey</a></code></p></td></tr><tr><td class="src">-&gt; IncidentKey</td><td class="doc"><p><code><a href="Network-PagerDuty-Integration.html#v:incidentKey">incidentKey</a></code></p></td></tr><tr><td class="src">-&gt; Text</td><td class="doc"><p><code><a href="Control-Monad-Trans-PagerDuty.html#v:description">description</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Network-PagerDuty-Integration.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Your monitoring tools should send PagerDuty a trigger event to report a new
 or ongoing problem. When PagerDuty receives a trigger event, it will either open
 a new incident, or add a new trigger log entry to an existing incident,
 depending on the provided incident_key.</p></div></div><div class="top"><p class="src"><a name="v:client" class="def">client</a> :: Lens' <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a> (<a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> Text)</p><div class="doc"><p>The name of the monitoring client that is triggering this event.</p></div></div><div class="top"><p class="src"><a name="v:clientUrl" class="def">clientUrl</a> :: Lens' <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a> (<a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> Text)</p><div class="doc"><p>The URL of the monitoring client that is triggering this event.</p></div></div><h2 id="g:3">Acknowledge</h2><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Acknowledge" class="def">Acknowledge</a> = Generic</p></div><div class="top"><p class="src"><a name="v:acknowledge" class="def">acknowledge</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: ServiceKey</td><td class="doc"><p><code><a href="Network-PagerDuty-Integration.html#v:serviceKey">serviceKey</a></code></p></td></tr><tr><td class="src">-&gt; IncidentKey</td><td class="doc"><p><code><a href="Network-PagerDuty-Integration.html#v:incidentKey">incidentKey</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Network-PagerDuty-Integration.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Acknowledge events cause the referenced incident to enter the acknowledged
 state.</p><p>While an incident is acknowledged, it won't generate any additional
 notifications, even if it receives new trigger events. Your monitoring tools
 should send PagerDuty an acknowledge event when they know someone is
 presently working on the problem.</p></div></div><h2 id="g:4">Resolve</h2><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Resolve" class="def">Resolve</a> = Generic</p></div><div class="top"><p class="src"><a name="v:resolve" class="def">resolve</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: ServiceKey</td><td class="doc"><p><code><a href="Network-PagerDuty-Integration.html#v:serviceKey">serviceKey</a></code></p></td></tr><tr><td class="src">-&gt; IncidentKey</td><td class="doc"><p><code><a href="Network-PagerDuty-Integration.html#v:incidentKey">incidentKey</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Network-PagerDuty-Integration.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Resolve events cause the referenced incident to enter the resolved state.</p><p>Once an incident is resolved, it won't generate any additional
 notifications. New trigger events with the same incident_key as a resolved
 incident won't re-open the incident. Instead, a new incident will be
 created. Your monitoring tools should send PagerDuty a resolve event when the
 problem that caused the initial trigger event has been fixed.</p></div></div><h1 id="g:5">Event fields</h1><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:HasServiceKey" class="def">HasServiceKey</a> s a | s -&gt; a <span class="keyword">where</span></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:serviceKey" class="def">serviceKey</a> :: Lens' s a</p><div class="doc"><p>The GUID of one of your &quot;Generic API&quot; services. This is the &quot;service key&quot;
 listed on a Generic API's service detail page.</p></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:HasIncidentKey" class="def">HasIncidentKey</a> s a | s -&gt; a <span class="keyword">where</span></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:incidentKey" class="def">incidentKey</a> :: Lens' s a</p><div class="doc"><p>Identifies the incident to which this trigger event should be applied.
 If there's no open (i.e. unresolved) incident with this key, a new one
 will be created. If there's already an open incident with a matching key,
 this event will be appended to that incident's log. The event key provides
 an easy way to &quot;de-dup&quot; problem reports. If this field isn't provided,
 PagerDuty will automatically open a new incident with a unique key.</p></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:HasDescription" class="def">HasDescription</a> s a | s -&gt; a <span class="keyword">where</span></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:description" class="def">description</a> :: Lens' s a</p><div class="doc"><p>A short description of the problem that led to this trigger.
 This field (or a truncated version) will be used when generating phone
 calls, SMS messages and alert emails. It will also appear on the incidents
 tables in the PagerDuty UI. The maximum length is 1024 characters.</p></div></div><div class="subs instances"><p id="control.i:HasDescription" class="caption collapser" onclick="toggleSection('i:HasDescription')">Instances</p><div id="section.i:HasDescription" class="show"><table><tr><td class="src"><a href="Network-PagerDuty-Integration.html#t:HasDescription">HasDescription</a> <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a> Text</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:HasDetails" class="def">HasDetails</a> s a | s -&gt; a <span class="keyword">where</span></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:details" class="def">details</a> :: Lens' s a</p><div class="doc"><p>An arbitrary JSON object containing any data you'd like included
 in the incident log.</p></div></div><div class="subs instances"><p id="control.i:HasDetails" class="caption collapser" onclick="toggleSection('i:HasDetails')">Instances</p><div id="section.i:HasDetails" class="show"><table><tr><td class="src"><a href="Network-PagerDuty-Integration.html#t:HasDetails">HasDetails</a> <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a> (<a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> Object)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Network-PagerDuty-Integration.html#t:HasDetails">HasDetails</a> <a href="Network-PagerDuty-Integration.html#t:Event">Event</a> (<a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> Object)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:6">Types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Event" class="def">Event</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Trigger" class="def">Trigger</a> <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a></td><td class="doc"><p><em>See:</em> <code><a href="Network-PagerDuty-Integration.html#v:trigger">trigger</a></code></p></td></tr><tr><td class="src"><a name="v:Acknowledge" class="def">Acknowledge</a> Generic</td><td class="doc"><p><em>See:</em> <code><a href="Network-PagerDuty-Integration.html#v:acknowledge">acknowledge</a></code></p></td></tr><tr><td class="src"><a name="v:Resolve" class="def">Resolve</a> Generic</td><td class="doc"><p><em>See:</em> <code><a href="Network-PagerDuty-Integration.html#v:resolve">resolve</a></code></p></td></tr></table></div><div class="subs instances"><p id="control.i:Event" class="caption collapser" onclick="toggleSection('i:Event')">Instances</p><div id="section.i:Event" class="show"><table><tr><td class="src"><a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="Network-PagerDuty-Integration.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> <a href="Network-PagerDuty-Integration.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Network-PagerDuty-Integration.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Network-PagerDuty-Integration.html#t:HasDetails">HasDetails</a> <a href="Network-PagerDuty-Integration.html#t:Event">Event</a> (<a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> Object)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:_Trigger" class="def">_Trigger</a> :: Prism' <a href="Network-PagerDuty-Integration.html#t:Event">Event</a> <a href="Network-PagerDuty-Integration.html#t:Trigger">Trigger</a></p></div><div class="top"><p class="src"><a name="v:_Acknowledge" class="def">_Acknowledge</a> :: Prism' <a href="Network-PagerDuty-Integration.html#t:Event">Event</a> Generic</p></div><div class="top"><p class="src"><a name="v:_Resolve" class="def">_Resolve</a> :: Prism' <a href="Network-PagerDuty-Integration.html#t:Event">Event</a> Generic</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Response" class="def">Response</a></p><div class="subs instances"><p id="control.i:Response" class="caption collapser" onclick="toggleSection('i:Response')">Instances</p><div id="section.i:Response" class="show"><table><tr><td class="src"><a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="Network-PagerDuty-Integration.html#t:Response">Response</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Users/brendanhay/ghc/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> <a href="Network-PagerDuty-Integration.html#t:Response">Response</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Network-PagerDuty-Integration.html#t:Response">Response</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FromJSON <a href="Network-PagerDuty-Integration.html#t:Response">Response</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:rsStatus" class="def">rsStatus</a> :: Lens' <a href="Network-PagerDuty-Integration.html#t:Response">Response</a> Text</p><div class="doc"><p><code>success</code>.</p></div></div><div class="top"><p class="src"><a name="v:rsMessage" class="def">rsMessage</a> :: Lens' <a href="Network-PagerDuty-Integration.html#t:Response">Response</a> Text</p><div class="doc"><p><code>Event processed</code>.</p></div></div><div class="top"><p class="src"><a name="v:rsIncidentKey" class="def">rsIncidentKey</a> :: Lens' <a href="Network-PagerDuty-Integration.html#t:Response">Response</a> IncidentKey</p><div class="doc"><p>The key of the incident that will be affected by the request.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>